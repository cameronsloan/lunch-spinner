
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
		<script src="js/vendor/jquery.easing.1.3.js"></script>
		<script src="js/vendor/jquery.jSlots.js"></script>
		<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
    </head
    <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Lunch Picker</a>
        </div>
        <div class="navbar-collapse collapse">

        </div><!--/.navbar-collapse -->
      </div>
    </div>

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
		<div class="container">
			<div class="row text-center">
				<div class="fancy">
					<ul class="slot">
						<li><span>&nbsp;</span></li>
						<li><span>A</span></li>
						<li><span>B</span></li>
						<li><span>C</span></li>
						<li><span>D</span></li>
						<li><span>E</span></li>
						<li><span>F</span></li>
						<li><span>G</span></li>
						<li><span>H</span></li>
						<li><span>I</span></li>
						<li><span>J</span></li>
						<li><span>K</span></li>
						<li><span>L</span></li>
						<li><span>M</span></li>
						<li><span>N</span></li>
						<li><span>O</span></li>
						<li><span>P</span></li>
						<li><span>Q</span></li>
						<li><span>R</span></li>
						<li><span>S</span></li>
						<li><span>T</span></li>
						<li><span>U</span></li>
						<li><span>V</span></li>
						<li><span>W</span></li>
						<li><span>X</span></li>
						<li><span>Y</span></li>
						<li><span>Z</span></li>
						<li><span>'</span></li>
						<li><span>&amp;</span></li>
					</ul>
				</div>
				<div style="margin: 20px auto; width: 400px;">
					<input type="button" class="btn btn-primary btn-lg btn-block" id="playFancy" value="Spin">
					<br />
					<input type="button" class="btn btn-secondary btn-lg btn-block" id="playSuprise" value="Suprise Me">
				</div>
			</div>
		</div>
    </div>

    <div class="container">
		<!-- Example row of columns -->
		<div class="row">
			<div class="col-md-4">
				<table class="table" id="favTable">
					<thead>
						<tr>
							<th>Configured Favorites</th>
						</tr>
					</thead>
					<tbody>

					</tbody>
				</table>
			</div>
			<div class="col-md-2">
			</div>
			<div class="col-md-6" style="padding: 10px 80px;">
				<label for="exampleInputEmail1">New Favorite Restaurant</label>
				<input class="form-control" id="newFav" />
				<br />
				<input type="button" class="btn btn-primary btn-lg btn-block" id="addNewFav" value="Add To Database">
			</div>
		</div>

      <hr>

      <footer>
        <p>&copy; GiantDude Software 2015</p>
		  
		<script type="text/javascript" charset="utf-8">       
			var userRef = 'InetzSGList';
			var ref = new Firebase("https://torrid-heat-4140.firebaseio.com");
			var lunchOptions = [];

			// Attach an asynchronous callback to read the data at our posts reference
			ref.on("value", function(snapshot) {
				if(typeof(snapshot.val() === 'object')){
					for (var key in snapshot.val()) {
						for(var k in snapshot.val()[key]) {
							lunchOptions.push(snapshot.val()[key][k].name.toUpperCase());
							$('#favTable > tbody:last-child').append('<tr><td>'+snapshot.val()[key][k].name+'</td></tr>');
						}
					}
				}
			}, function (errorObject) {
					console.log("The read failed: " + errorObject.code);
				});
			
			$("#addNewFav").click(function(){
				var inputVal = $("#newFav").val();
				
				var favRef = ref.child("InetzSGList");
				favRef.push({
					name: inputVal
				});
				
				$("#newFav").val('');
			});
				
			
			// fancy example
			$('.fancy .slot').jSlots({
				number : 16,
				//winnerNumber : 1,
				spinner : '#playFancy',
				easing : 'easeOutSine',
				time : 6000,
				loops : 5,
 				endNumbers: [],
				endNumFunc: function() {					
					var lunchString = lunchOptions[Math.floor(Math.random()*lunchOptions.length)];
					//console.log(lunchString);
					var winner = [];
					var padding = 16 - lunchString.length;
					if(padding > 0) {
						for(var i=padding; i>0; i--) {
							winner.push(1);
						}
					}
					for(var x = 0, c=''; c = lunchString.charAt(x); x++) { 
						if(c === "'") {
							winner.push(28);
						} else if(c === '&') {
							winner.push(29);
						} else if(c === ' ') {
							winner.push(1);
						} else {
							winner.push(c.charCodeAt(0) - 63);
						}
					}
					//console.log(winner);
					return winner;
				}
			});
		</script>
      </footer>
    </div>
    </body>
</html>
